(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{1622:function(e,t,n){"use strict";var s=n("2321"),a=n.n(s);a.a},2321:function(e,t,n){},"768d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticStyle:{"margin-top":"30px"}},[n("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":"","inline-label":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"event",label:"Event Manager",icon:"event_available"}})],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{attrs:{name:"event"}},[n("div",{staticClass:"cus-title"},[n("q-icon",{attrs:{name:"event_available"}}),e._v("   Event Manager\n      ")],1),n("div",{staticClass:"cus-title-table"},[n("q-icon",{attrs:{name:"event_available"}}),e._v("   Event Manager - "+e._s(e.title)+"\n      ")],1),n("q-form",{staticClass:"cus-form",on:{submit:e.onSubmit,reset:e.onReset}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3 col-12"},[n("q-uploader",{staticStyle:{width:"100%",height:"auto"},attrs:{url:"http://localhost:4444/upload",label:"Add main photo for 'Event'",accept:".jpg, image/*"}})],1),n("div",{staticClass:"offset-sm-1 col-sm-8 col-12 offset-0 row"},[n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Title*")]),n("q-input",{staticClass:"col-sm-10 col-12",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter Event's title",rules:[function(e){return null!==e&&""!==e||"Please type a name"}]},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Place*")]),n("q-input",{staticClass:"col-sm-10 col-12",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter a Place",rules:[function(e){return null!==e&&""!==e||"Please type a place"}]},model:{value:e.event.place,callback:function(t){e.$set(e.event,"place",t)},expression:"event.place"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Personnel*")]),n("q-input",{staticClass:"col-sm-10 col-12",attrs:{outlined:"",type:"personnel",dense:"",placeholder:"Enter a number of people who can apply","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please type number"},function(e){return e>0||"number is not correct"}]},model:{value:e.event.maxParticipant,callback:function(t){e.$set(e.event,"maxParticipant",t)},expression:"event.maxParticipant"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Lecturer*")]),n("q-input",{staticClass:"col-sm-10 col-12",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter lecturer' name",rules:[function(e){return null!==e&&""!==e||"Please type a place"}]},model:{value:e.event.lecturer,callback:function(t){e.$set(e.event,"lecturer",t)},expression:"event.lecturer"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Start Time*")]),n("q-input",{staticClass:"col-sm-10 col-12",staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",dense:"",placeholder:"Enter Date and Time (YYYY-MM-DD HH:mm)"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.event.startTime,callback:function(t){e.$set(e.event,"startTime",t)},expression:"event.startTime"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format12h:""},model:{value:e.event.startTime,callback:function(t){e.$set(e.event,"startTime",t)},expression:"event.startTime"}})],1)],1)]},proxy:!0}]),model:{value:e.event.startTime,callback:function(t){e.$set(e.event,"startTime",t)},expression:"event.startTime"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("End Time*")]),n("q-input",{staticClass:"col-sm-10 col-12",staticStyle:{"margin-bottom":"20px"},attrs:{outlined:"",dense:"",placeholder:"Enter Date and Time (YYYY-MM-DD HH:mm)"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.event.endTime,callback:function(t){e.$set(e.event,"endTime",t)},expression:"event.endTime"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format12h:""},model:{value:e.event.endTime,callback:function(t){e.$set(e.event,"endTime",t)},expression:"event.endTime"}})],1)],1)]},proxy:!0}]),model:{value:e.event.endTime,callback:function(t){e.$set(e.event,"endTime",t)},expression:"event.endTime"}}),n("p",{staticClass:"col-sm-2 col-12 cus-text"},[e._v("Deadline*")]),n("q-input",{staticClass:"col-sm-10 col-12",staticStyle:{"margin-bottom":"20px"},attrs:{dense:"",outlined:"",placeholder:"Enter Date and Time (YYYY-MM-DD HH:mm)"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm"},model:{value:e.event.endRegTime,callback:function(t){e.$set(e.event,"endRegTime",t)},expression:"event.endRegTime"}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format12h:""},model:{value:e.event.endRegTime,callback:function(t){e.$set(e.event,"endRegTime",t)},expression:"event.endRegTime"}})],1)],1)]},proxy:!0}]),model:{value:e.event.endRegTime,callback:function(t){e.$set(e.event,"endRegTime",t)},expression:"event.endRegTime"}}),n("div",{staticClass:"col-12 row flex justify-between"},[n("p",{staticClass:"col-7 cus-text"},[e._v("Need Additional Information?")]),n("q-btn-toggle",{staticStyle:{height:"37px"},attrs:{"toggle-color":"primary",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},model:{value:e.haveAddInfor,callback:function(t){e.haveAddInfor=t},expression:"haveAddInfor"}})],1),e._l(e.event.addInfors,(function(t,s){return"yes"==e.haveAddInfor?n("q-item",{key:s,staticClass:"col-12 row",staticStyle:{padding:"0"}},[n("q-input",{staticClass:"col-8",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter your question",rules:[function(e){return null!==e&&""!==e||"Please type something"}]},model:{value:t.question,callback:function(n){e.$set(t,"question",n)},expression:"infor.question"}}),n("q-checkbox",{staticStyle:{height:"40px","line-height":"40px"},attrs:{size:"xs",label:"required"},model:{value:t.isRequired,callback:function(n){e.$set(t,"isRequired",n)},expression:"infor.isRequired"}}),s<e.event.addInfors.length-1?e._e():n("q-btn",{staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"primary",icon:"add_circle"},on:{click:e.addMoreInfor}}),s<e.event.addInfors.length-1?n("q-btn",{staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"negative",icon:"remove_circle"},on:{click:function(t){return e.removeInfor(s)}}}):e._e()],1):e._e()})),n("div",{staticClass:"col-sm-2 col-12",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[e._v("Description*")]),n("q-input",{staticClass:"col-sm-10 col-12",attrs:{outlined:"",dense:"","lazy-rules":"",type:"textarea",placeholder:"Enter description for event (0/1500)",rules:[function(e){return null!==e&&""!==e||"Please type something"}]},model:{value:e.event.description,callback:function(t){e.$set(e.event,"description",t)},expression:"event.description"}})],2),n("div",{staticClass:"col-12 row flex justify-between",staticStyle:{"margin-top":"30px"}},[n("q-uploader",{staticClass:"col-sm-3 col-12",attrs:{url:"http://localhost:4444/upload",label:"How to register",accept:".jpg, image/*"}}),n("q-uploader",{staticClass:"col-sm-3 col-12",attrs:{url:"http://localhost:4444/upload",label:"Attendance Guide",accept:".jpg, image/*"}}),n("q-uploader",{staticClass:"col-sm-3 col-12",attrs:{url:"http://localhost:4444/upload",label:"Lecturer Information",accept:".jpg, image/*"}})],1),n("div",{staticClass:"col-12 row flex justify-between",staticStyle:{"margin-top":"30px"}},[n("p",{staticClass:"col-7 cus-text"},[e._v("Survey")]),n("q-btn-toggle",{staticStyle:{height:"37px"},attrs:{"toggle-color":"primary",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},model:{value:e.haveSurvey,callback:function(t){e.haveSurvey=t},expression:"haveSurvey"}})],1),e._l(e.event.surveys,(function(t,s){return"yes"==e.haveSurvey?n("q-item",{key:s,staticClass:"col-12",staticStyle:{padding:"0"}},[n("div",{staticClass:"col-12 cus-question row"},[n("p",{staticStyle:{"margin-bottom":"10px"}},[e._v("Question  "+e._s(s+1)+" ")]),n("br"),n("div",{staticClass:"col-12 row",staticStyle:{"padding-bottom":"0px"}},[n("q-input",{staticClass:"col-11",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter your question",rules:[function(e){return null!==e&&""!==e||"Please type something"}]},model:{value:t.queSurvey,callback:function(n){e.$set(t,"queSurvey",n)},expression:"survey.queSurvey"}}),s<e.event.surveys.length-1?e._e():n("q-btn",{staticClass:"col-1",staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"primary",icon:"add_circle"},on:{click:e.addSurvey}}),s<e.event.surveys.length-1?n("q-btn",{staticClass:"col-1",staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"negative",icon:"remove_circle"},on:{click:function(t){return e.removeSurvey(s)}}}):e._e(),n("div",{staticClass:"col-11 cus-selection"},e._l(t.selections,(function(a,i){return n("q-item",{key:i,staticStyle:{padding:"0"}},[n("p",{staticClass:"col-2",staticStyle:{height:"40px","line-height":"40px","margin-bottom":"0px"}},[e._v("Selection  "+e._s(i+1))]),n("q-input",{staticClass:"col-9",attrs:{outlined:"",dense:"","lazy-rules":"",placeholder:"Enter selection",rules:[function(e){return null!==e&&""!==e||"Please type something"}]},model:{value:t.selections[i],callback:function(n){e.$set(t.selections,i,n)},expression:"survey.selections[index]"}}),i<t.selections.length-1?e._e():n("q-btn",{staticClass:"col-1",staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"primary",icon:"add_circle"},on:{click:function(t){return e.addSelect(s)}}}),i<t.selections.length-1?n("q-btn",{staticClass:"col-1",staticStyle:{height:"40px","line-height":"40px"},attrs:{flat:"",round:"",color:"negative",icon:"remove_circle"},on:{click:function(t){return e.removeSelect(s,i)}}}):e._e()],1)})),1)],1)])]):e._e()}))],2),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"30px"}},["view"==e.role?n("q-btn",{attrs:{label:"OK",color:"primary",to:"/admin"}}):e._e(),"edit"==e.role?n("q-btn",{attrs:{label:"Save",color:"primary"},on:{click:e.saveEvent}}):e._e(),"create"==e.role?n("q-btn",{attrs:{label:"Create",type:"submit",color:"primary"}}):e._e()],1)])],1)],1)],1)},a=[],i={name:"EventManager",data:function(){return{title:"",tab:"event",event:{id:20,title:"",place:"",lecturer:"",maxParticipant:null,currentParticipant:null,startTime:"",endTime:"",startRegTime:"",endRegTime:"",price:0,addInfors:[],surveys:[],description:"",photoEvent:"",photoHowToReg:"",photoAttGuide:"",photoLecInf:"",createdDate:""},haveAddInfor:"no",haveSurvey:"no",role:""}},methods:{onSubmit:function(){var e=new Date;console.log(e.getMonth()),this.event.createdDate=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()),this.$store.commit("Event/createEvent",this.event),this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",timeout:1e3,message:"Create Event Successfull"}),this.event={id:this.event.id+1,title:null,place:null,lecturer:null,maxParticipant:null,currentParticipant:null,startTime:null,endTime:null,startRegTime:null,endRegTime:null,addInfors:[],surveys:[],description:null,photoEvent:null,photoHowToReg:null,photoAttGuide:null,photoLecInf:null}},onReset:function(){var e=this;this.$q.dialog({title:"Alert",message:"Canceling will delete all entered values. Do you really want to cancel?",cancel:!0,persistent:!0}).onOk((function(){e.$router.push("/admin")})).onCancel((function(){}))},addMoreInfor:function(){this.event.addInfors.push({question:"",isRequired:!1})},removeInfor:function(e){this.event.addInfors.splice(e,1)},addSurvey:function(){this.event.surveys.push({queSurvey:"",selections:["",""]})},removeSurvey:function(e){this.event.surveys.splice(e,1)},addSelect:function(e){this.event.surveys[e].selections.push("")},removeSelect:function(e,t){this.event.surveys[e].selections.length>2?this.event.surveys[e].selections.splice(t,1):this.$q.dialog({title:"Alert",message:"Survey must to have least 2 selections, you cannot remove this selection",persistent:!0}).onOk((function(){}))},saveEvent:function(){this.$store.commit("Event/saveEvent",this.event),this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",timeout:1e3,message:"Edit Event Successfull"})}},computed:{},watch:{haveAddInfor:function(e){"yes"==e&&(null!==this.event.addInfors&&0!=this.event.addInfors.length||this.event.addInfors.push({question:"",isRequired:!1}))},haveSurvey:function(e){"yes"==e&&(null!==this.event.surveys&&0!=this.event.surveys||this.event.surveys.push({queSurvey:"",selections:["",""]}))}},created:function(){var e=this;void 0===this.$route.params.id?(this.title="Insert",this.role="create"):(this.$store.state.Event.events.forEach((function(t){t.id==e.$route.params.id&&(e.event.id=t.id,e.event.title=t.title,e.event.place=t.place,e.event.lecturer=t.lecturer,e.event.maxParticipant=t.maxParticipant,e.event.currentParticipant=t.currentParticipant,e.event.startTime=t.startTime,e.event.endTime=t.endTime,e.event.startRegTime=t.startRegTime,e.event.endRegTime=t.endRegTime,t.addInfors.forEach((function(t,n){e.event.addInfors.push({question:"",isRequired:!1}),e.event.addInfors[n].question=t.question,e.event.addInfors[n].isRequired=t.isRequired})),t.surveys.forEach((function(t,n){e.event.surveys.push({queSurvey:"",selections:[]}),e.event.surveys[n].queSurvey=t.queSurvey,t.selections.forEach((function(t,s){e.event.surveys[n].selections[s]=t}))})),e.event.description=t.description,e.event.photoEvent=t.photoEvent,e.event.photoHowToReg=t.photoHowToReg,e.event.photoAttGuide=t.photoAttGuide,e.event.photoLecInf=t.photoLecInf,e.event.createdDate=t.createdDate,e.event.addInfors.length>0&&(e.haveAddInfor="yes"),e.event.surveys.length>0&&(e.haveSurvey="yes"))})),this.role="edit",this.title="Update")}},o=i,l=(n("1622"),n("2877")),r=n("eebe"),c=n.n(r),u=n("9989"),d=n("429b"),p=n("7460"),v=n("eb85"),m=n("adad"),h=n("823b"),f=n("0016"),y=n("0378"),g=n("ee89"),b=n("27f9"),x=n("7cbe"),q=n("52ee"),S=n("ca78"),T=n("6a67"),C=n("66e5"),k=n("8f8e"),_=n("9c40"),w=Object(l["a"])(o,s,a,!1,null,"5878ad22",null);t["default"]=w.exports;c()(w,"components",{QPage:u["a"],QTabs:d["a"],QTab:p["a"],QSeparator:v["a"],QTabPanels:m["a"],QTabPanel:h["a"],QIcon:f["a"],QForm:y["a"],QUploader:g["a"],QInput:b["a"],QPopupProxy:x["a"],QDate:q["a"],QTime:S["a"],QBtnToggle:T["a"],QItem:C["a"],QCheckbox:k["a"],QBtn:_["a"]})}}]);